<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <h:outputScript library="js" name="shCore.js"/>
        <h:outputScript library="js" name="shBrushJava.js"/>

        <h:outputStylesheet library="css" name="shCore.css"/>
        <h:outputStylesheet library="css" name="shThemeDefault.css"/>

        <script type="text/javascript">SyntaxHighlighter.all()</script>

        <ui:composition template="./../../templates/common.xhtml">

            <ui:define name="content">

                <h:form enctype="multipart/form-data">

                    <p:fieldset styleClass="fieldset" legend="Code Editor" style="min-height: 350px; ">
                        <div>

                            <p:messages id="messages" />
                            <h:panelGrid id="regPanelGrid" style="margin: auto;" cellspacing="0" columns="1">

                                <h:panelGroup>
                                    <div id="fileUploadArea"  >
                                        <h3 align="center">You can upload a file</h3>
                                        <p:fileUpload fileUploadListener="#{classController.loadFile}"
                                                      update="@form"
                                                      dragDropSupport="true"
                                                      mode="advanced"
                                                      auto="true" allowTypes="/(\.|\/)(java|txt)$/"/>
                                    </div>
                                </h:panelGroup>

                                <h:panelGroup>
                                    <div id="codeEditor" >
                                        <h3 align="center">Or just paste your code here</h3>

                                        <p:inputTextarea id="sourceCode" value="#{classController.selected.source}"
                                                         style="font-size: 13px; resize: none;" autoResize="false"
                                                         rows="20" cols="100"
                                                         placeholder="Type code here"/>
                                        <br /><br />
                                        <p:commandButton id="createActivityButton"
                                                         action="#{classController.addClass}"
                                                         value="Add to library"
                                                         ajax="false"/>
                                    </div>
                                </h:panelGroup>
                            </h:panelGrid>

                        </div>
                    </p:fieldset>

                </h:form>

            </ui:define>

        </ui:composition>

    </body>
</html>
